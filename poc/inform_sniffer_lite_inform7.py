# -*- coding: utf-8 -*-
import base64
import json
from struct import *

import zlib
from Crypto.Cipher import AES
from binascii import a2b_hex
#from flask import Flask, request

from inform import packet_decode

from Crypto.Cipher import AES
import binascii

data="\x54\x4e\x42\x55\x00\x00\x00\x00\x78\x8a\x20\xdc\x43\x89\x00\x0b" 
data=data+"\xac\xe6\xc5\x2e\xa3\xb6\x0d\x70\xe5\xe8\x7a\x9d\x00\x37\xfb\x16" 
data=data+"\x00\x00\x00\x01\x00\x00\x02\x01\x31\x11\x38\xd8\xe0\xf4\xb5\xba" 
data=data+"\x0a\x2f\x94\x92\xcf\x84\x40\xb4\x8f\x02\xea\x63\x69\x1d\xf2\xdb" 
data=data+"\xf0\x21\x10\xe5\x0d\xeb\x84\x7c\xbe\x95\xf3\x18\xe9\x6e\xc6\x13" 
data=data+"\x3b\xc6\xb3\xa6\xd6\x02\x4e\x63\x1b\xca\x82\x2c\x94\x4d\x35\x0e" 
data=data+"\xa9\x8e\xc0\x38\xbb\xa9\xb7\xe1\x30\x00\xa5\x77\x44\xaa\x28\x66" 
data=data+"\xf4\x8b\xb8\x8d\x8e\xef\x7e\xf5\x29\x0d\xfd\xcd\x49\xf3\x7a\x80" 
data=data+"\xd9\x83\x5e\x37\xd1\xb2\x0e\xf2\xc5\x01\x3e\x8c\x04\xd2\xdc\x7e" 
data=data+"\x8c\x47\x08\xb0\x48\xdb\x3f\x86\x33\x36\xc3\x40\xa4\xc1\xa7\x34" 
data=data+"\x40\x10\x61\xab\xdd\x06\xaa\x20\xda\x51\x52\x1f\x71\x85\xe4\xcc" 
data=data+"\xc8\x60\x0b\x5d\xbb\xc4\x06\xce\x8e\x12\x08\x55\x02\xa2\xbc\x3b" 
data=data+"\xec\x37\xee\x5b\xbc\xf0\x36\x65\xd3\xf5\xd8\xcf\x4e\xda\x7f\x9d" 
data=data+"\x97\x9d\xfc\x51\x55\x2b\x28\x83\x78\xdc\x22\x04\x3e\x71\xc8\xf4" 
data=data+"\x87\xc5\x2a\xb7\x86\xb9\x49\xb5\x40\x32\x41\xb6\xf6\x22\x80\x72" 
data=data+"\x81\x73\xa1\xaa\x92\xb6\xbb\xf8\x66\x0c\x46\x04\x0d\x1a\x5a\x0b" 
data=data+"\x34\xee\x63\xdb\xbf\xcc\x03\x4d\x1b\x90\x0b\xcf\xae\xe7\x3f\x1b" 
data=data+"\xbf\x52\xc0\xec\xcb\x46\x30\x17\x4b\x11\xf0\xd6\xc8\xff\x96\x32" 
data=data+"\x11\x7b\x8e\xe9\x87\xad\xdc\x7a\xdc\x42\x54\x53\xbb\x8d\x8b\xf4" 
data=data+"\xbb\x8b\x83\xd7\x1c\x46\xf5\x73\x56\xca\xc7\x53\xf9\xa1\x50\xbb" 
data=data+"\x9d\x00\xab\x90\xd2\x5b\x06\x4a\x3e\xe0\xcd\x0c\x3c\xe1\x51\x1e" 
data=data+"\xb6\xd5\xfb\x8f\x51\xb6\x72\x1f\x4b\x9d\x73\x0b\x70\xa1\x81\x71" 
data=data+"\x50\xe5\xb8\x25\xc5\xd3\x9f\xda\xd1\xeb\xea\x8a\x3c\x47\x17\x69" 
data=data+"\xc2\xf1\xaf\x0d\x99\xfb\x77\xf5\x45\x53\x0e\xd8\xe5\x04\xf1\x4d" 
data=data+"\xd3\x24\x8b\x49\xb4\x04\xd7\x3d\xe2\x0e\xec\x5b\x1f\xbe\xa9\x60" 
data=data+"\x4c\x4d\x12\xfa\x5f\x49\x0f\x8c\x57\x16\x27\x55\x09\xa9\x55\x91" 
data=data+"\xd3\x0c\x6e\x10\x5c\xab\x79\xcf\x2e\x45\x8e\x55\x12\xba\xd8\xdc" 
data=data+"\x6c\xef\x2a\x9f\x59\x13\xb7\x86\x8f\xad\x13\xad\x02\x8e\x2f\xe7" 
data=data+"\x03\xd8\x0e\xed\x79\xef\x84\xc0\xc0\x77\x12\x89\x26\xef\x5f\xe4" 
data=data+"\x62\x0e\xfc\xa6\xa0\xfb\x5c\x3c\xb4\x87\x9f\x83\xb7\x14\xc4\x2e" 
data=data+"\x46\x9a\xc1\x3a\x15\x61\xbf\x33\xf9\x99\x21\x1e\x2d\x13\x09\x58" 
data=data+"\x32\x31\xc6\xd9\x12\x1a\x5d\x68\x55\xfa\x7f\xa2\x6e\x05\x83\x25" 
data=data+"\xc0\x6c\x3d\xf9\xf3\x25\x3b\x3b\x70\x94\x62\x56\x3b\x42\x88\xc7" 
data=data+"\x7f\x0e\x73\x3d\x50\x8c\xcb\x2c\xda\x26\xfc\x8a\x46\x80\xee\xb3" 
data=data+"\x60\xeb\xbd\x52\x6f\x5b\x38\xf5\xcd"



payload,iv = packet_decode(a2b_hex("EE44CCE96733A3F8207F19EEB0813C57"), data)
payload = json.loads(payload)
print(payload)


