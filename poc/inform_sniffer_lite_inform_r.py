# -*- coding: utf-8 -*-
import base64
import json
from struct import *

import zlib
from Crypto.Cipher import AES
from binascii import a2b_hex
#from flask import Flask, request

from inform import packet_decode

from Crypto.Cipher import AES
import binascii

data="\x54\x4e\x42\x55\x00\x00\x00\x00\x78\x8a\x20\xdc\x43\x89\x00\x01" 
data=data+"\x3e\x96\xba\x0d\xd9\x90\xb7\x29\xb6\x66\x60\xb3\xc1\x24\xe1\x54" 
data=data+"\x00\x00\x00\x01\x00\x00\x01\x90\x2e\x1f\x5e\x93\x93\x71\x99\x9d" 
data=data+"\xb2\xec\xff\x6b\x52\x5a\x53\x3a\xaa\x15\x2a\xb6\xed\x36\xeb\xbe" 
data=data+"\x8f\x0d\x00\x31\x47\x8e\x70\xe7\xf5\x22\x2c\xe1\x96\xcd\xef\x78" 
data=data+"\xee\xa7\xcc\xc1\x1b\x5c\x00\xb9\x96\x7b\xab\xb0\x19\x12\xb4\x7a" 
data=data+"\x28\x44\xaf\x4d\xbf\xb5\xa2\x3e\xa8\x25\x21\xce\x12\xf9\xdc\xc2" 
data=data+"\x02\x51\xe9\x74\xc6\x4d\xfa\xd6\xa9\xc4\x5a\x06\x41\x4e\x27\x30" 
data=data+"\x6f\xbf\x8f\xca\xd9\xb4\xdd\x68\x9d\xa8\x10\x43\xef\x89\xac\xb9" 
data=data+"\xa8\xcb\x90\xff\x46\x52\xfd\x47\x29\xe4\x41\x58\xff\x50\x14\xb0" 
data=data+"\xaf\x71\x93\x27\x6a\x1c\x6d\x9b\xd9\xf6\x0d\xbb\x1b\x30\xee\x3c" 
data=data+"\x2a\xdd\x6d\xed\x97\x2e\xaf\xa5\xda\x7d\xee\xf6\xb9\xa0\x37\x95" 
data=data+"\xb0\x81\xb9\x02\xc8\xef\xb9\xb0\x15\x40\xff\x7e\x41\x25\xb2\xec" 
data=data+"\x9f\xa2\xe1\x11\x49\x34\xab\x53\x46\xc5\xfb\x05\xd3\x63\x28\x46" 
data=data+"\xc6\x9e\xa6\x0f\x02\xad\x0b\xa2\x4b\x08\xb1\xc3\xe5\x30\x0e\xe1" 
data=data+"\xdf\xe2\x7f\x96\x7e\x0a\xce\xe3\x6e\x42\x63\x93\x2d\xfa\x2b\xd9" 
data=data+"\x28\x5e\x55\x44\x7d\x80\x0a\x7a\x1b\xd6\xd9\xc9\x40\x6b\xf2\xd6" 
data=data+"\xd6\x85\xa9\xbf\x97\x64\x86\x94\xfe\xb5\x63\x49\x57\xf4\x91\xb4" 
data=data+"\x96\xfb\x6e\x12\xf8\x19\x36\xd7\x43\xee\xf1\xef\xbd\x94\x4c\x26" 
data=data+"\xdc\xfd\xe2\xf4\xeb\x72\x02\x2f\x51\x54\xb2\x06\x41\x2d\xe7\x89" 
data=data+"\x03\x68\xa0\xf8\x21\x7a\x6f\x0e\x2e\x89\x26\x0c\xac\xd9\x98\xa5" 
data=data+"\xd3\x7e\x99\xd3\xa6\x4b\x00\xea\x80\x2e\xdc\x43\x1f\x14\xc7\xdb" 
data=data+"\xda\x3b\x05\xba\x61\xfe\x67\xb4\xa3\xa9\x17\x9e\x9f\xbd\x98\xca" 
data=data+"\x7d\x89\xcc\xf2\xaa\xaf\x22\x53\x42\x61\x3f\xe3\xe4\x4f\x10\x16" 
data=data+"\xf1\x4b\xc9\xc0\x16\x08\xd2\x15\x2f\x45\x0d\x0c\x4f\xe8\x5c\x9b" 
data=data+"\x8c\x3d\x8a\x79\x29\x1b\xaa\x40\x17\x1c\x03\x6d\x48\xa4\xa7\x2e" 
data=data+"\xcd\x0f\xba\x5d\x75\x1d\xd0\xad\x48\x40\x96\x6a\xae\x35\x6a\xd4" 
data=data+"\x0c\x47\x07\x80\x94\xf2\xf3\xf4"

payload,iv = packet_decode(a2b_hex("EE44CCE96733A3F8207F19EEB0813C57"), data)
payload = json.loads(payload)
print(payload)

